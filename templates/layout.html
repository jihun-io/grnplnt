<html>

<head>
    <title>혹성의 아이</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css"
        integrity="sha512-q3eWabyZPc1XTCmF+8/LuE1ozpg5xxn7iO89yfSOd5/oKvyqLngoNGsx8jq92Y8eXJ/IRxQbEC+FGSYxtk2oiw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link rel="apple-touch-icon" sizes="57x57" href="{{ url_for('static', filename='apple-icon-57x57.png') }}">
    <link rel="apple-touch-icon" sizes="60x60" href="{{ url_for('static', filename='apple-icon-60x60.png') }}">
    <link rel="apple-touch-icon" sizes="72x72" href="{{ url_for('static', filename='apple-icon-72x72.png') }}">
    <link rel="apple-touch-icon" sizes="76x76" href="{{ url_for('static', filename='apple-icon-76x76.png') }}">
    <link rel="apple-touch-icon" sizes="114x114" href="{{ url_for('static', filename='apple-icon-114x114.png') }}">
    <link rel="apple-touch-icon" sizes="120x120" href="{{ url_for('static', filename='apple-icon-120x120.png') }}">
    <link rel="apple-touch-icon" sizes="144x144" href="{{ url_for('static', filename='apple-icon-144x144.png') }}">
    <link rel="apple-touch-icon" sizes="152x152" href="{{ url_for('static', filename='apple-icon-152x152.png') }}">
    <link rel="apple-touch-icon" sizes="180x180" href="{{ url_for('static', filename='apple-icon-180x180.png') }}">
    <link rel="icon" type="image/png" sizes="192x192"  href="{{ url_for('static', filename='android-icon-192x192.png') }}">
    <link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', filename='favicon-32x32.png') }}">
    <link rel="icon" type="image/png" sizes="96x96" href="{{ url_for('static', filename='favicon-96x96.png') }}">
    <link rel="icon" type="image/png" sizes="16x16" href="{{ url_for('static', filename='favicon-16x16.png') }}">
    <link rel="manifest" href="{{ url_for('static', filename='manifest.json') }}">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="{{ url_for('static', filename='ms-icon-144x144.png') }}">
    <meta name="theme-color" content="#ffffff">
</head>

<body>
    <header>
        <div class="menu_row_wrapper" id="menu_row_wrapper">
            <div class="logo_wrapper">
                <a href="/"><img class="logo" src="{{ url_for('static', filename='img/logo_nomargin.png') }}"></a>
            </div>
            <div class="menu_left">
                <i class="fas fa-chevron-left"></i>
            </div>
            <div class="menu_row" id="menu_row">
                <ul class="menu_row_1" id="menuBar">
                    <li class="menu_btn">
                        <a class="menu_link {{ selected_home }}" href="/">홈</a>
                    </li>
                    <li class="menu_btn">
                        <a class="menu_link {{ selected_synopsis }}" href="/synopsis">시놉시스</a>
                    </li>
                    <li class="menu_btn">
                        <a class="menu_link {{ selected_character }}" href="/character">캐릭터</a>
                    </li>
                    <li class="menu_btn">
                        <a class="menu_link {{ selected_gallery }}" href="/gallery">갤러리</a>
                        <!-- <ul class="submenu">
                            <li class="submenu_items">
                                <a href="/comingsoon">Coming Soon</a>
                            </li>
                        </ul> -->
                    </li>
                    <li class="menu_btn">
                        <a class="menu_link {{ selected_videos }}" href="/videos">영상</a>
                        <!-- <ul class="submenu">
                            <li class="submenu_items">
                                <a href="/comingsoon">Coming Soon</a>
                            </li>
                        </ul> -->
                    </li>
                    <li class="menu_btn">
                        <a class="menu_link {{ selected_download }}" href="/download">다운로드</a>
                        <!-- <ul class="submenu">
                            <li class="submenu_items">
                                <a href="/comingsoon">Coming Soon</a>
                            </li>
                        </ul> -->
                    </li>
                    <li class="menu_btn">
                        <a class="menu_link {{ selected_social }}" href="#" onclick="toggleDropdown()">소셜<i id="dropdown_icon" class="fas fa-chevron-down"></i></a>
                        <!-- <ul class="submenu">
                            <li class="submenu_items">
                                <a href="/social/qna">질문 및 문의</a>
                            </li>
                            <li class="submenu_items">
                                <a href="/social/guestbook">방명록</a>
                            </li>
                        </ul> -->
                    </li>
                </ul>
                <div class="submenu_row_wrapper" id="submenu_row_wrapper">
                    <ul class="submenu_row ">
                    </ul>
                    <ul class="submenu_row ">
                    </ul>
                    <ul class="submenu_row ">
                    </ul>
                    <ul class="submenu_row ">
                    </ul>
                    <ul class="submenu_row ">

                    </ul>
                    <ul class="submenu_row ">

                    </ul>
                    <ul class="submenu_row  ">
                        <li class="submenu_items ">
                            <a href="/social/qna">질문 및 문의</a>
                        </li>
                        <li class="submenu_items ">
                            <a href="/social/guestbook">방명록</a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="menu_right">
                <i class="fas fa-chevron-right"></i>
            </div>
        </div>

        <script>
            window.addEventListener("DOMContentLoaded", (event) => {
                const menuBar = document.querySelector("#menu_row"); // 메뉴 바의 ID를 #menuBar로 가정
                const activeLink = document.querySelector(".menu_bold"); // 현재 페이지를 나타내는 링크에 'active' 클래스가 있다고 가정

                if (menuBar && activeLink) {
                    const menuBarHalfWidth = menuBar.clientWidth / 2;
                    const activeLinkHalfWidth = activeLink.clientWidth / 2;
                    const activeLinkLeftOffset = activeLink.offsetLeft;

                    // 현재 페이지에 해당하는 링크를 메뉴 바의 가운데에 위치하게 하기 위해 스크롤 위치를 조정
                    menuBar.scrollLeft = activeLinkLeftOffset - menuBarHalfWidth + activeLinkHalfWidth - 65;
                    console.log(menuBar.scrollLeft);
                }



                const menuRow = document.querySelector('.menu_row');
                const menuLeft = document.querySelector('.menu_left');
                const menuRight = document.querySelector('.menu_right');
                function checkScroll() {
                    let scrollLeft = menuRow.scrollLeft;

                    if (scrollLeft <= 3) {
                        menuLeft.style.opacity = '0';
                    } else {
                        menuLeft.style.opacity = '1';
                    }

                    if (scrollLeft + menuRow.clientWidth >= menuRow.scrollWidth - 3) {
                        menuRight.style.opacity = '0';
                    } else {
                        menuRight.style.opacity = '1';
                    }
                }


                menuRow.addEventListener('scroll', checkScroll);
                checkScroll();
            });


            function toggleDropdown() {
                var submenuRowWrapper = document.getElementById("submenu_row_wrapper");
                var menuRowWrapper = document.getElementById("menu_row_wrapper");
                var menuRow = document.getElementById("menu_row");
                var main = document.getElementById("main");
                var dropdownIcon = document.getElementById("dropdown_icon");
                if (submenuRowWrapper.classList.contains("open")) {
                    submenuRowWrapper.classList.remove("open");
                    main.classList.remove("open");
                    // menuRow.classList.remove("open");
                    dropdownIcon.classList.remove("rotate");
                } else {
                    submenuRowWrapper.classList.add("open");
                    main.classList.add("open");
                    // menuRowWrapper.classList.add("open");
                    // menuRow.classList.add("open");
                    dropdownIcon.classList.add("rotate");
    
                }
            }
        </script>
    </header>

    <main id="main" >
        {% block content %}{% endblock %}
    </main>

    <footer class="copyright">
        <p>Copyright © 2024 Jun Park</p>
    </footer>

</body>

</html>